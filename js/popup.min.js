var link=document.querySelector(".address__block__btn"),popup=document.querySelector(".contact__modal"),close=document.querySelector(".close"),user__name=document.querySelector("[name=name]"),form=popup.querySelector("form"),email=popup.querySelector("[name=email]"),message=popup.querySelector("[name=message]"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("user__name")}catch(e){isStorageSupport=!1}function validate(){return user__name.value?email.value?message.value?form.submit():(message.style.border="2px solid #e74246",!1):(email.style.border="2px solid #e74246",!1):(user__name.style.border="2px solid #e74246",!1)}link.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("modal__show"),storage?(user__name.value=storage,email.focus()):user__name.focus()}),close.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("modal__show")}),form.addEventListener("submit",function(e){e.preventDefault(),user__name.value&&email.value&&message.value?isStorageSupport&&localStorage.setItem("user__name",user__name.value):(e.preventDefault(),popup.classList.add("modal__error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popup.classList.contains("modal__show")&&popup.classList.remove("modal__show"))}),form.addEventListener("submit",function(e){return e.preventDefault(),validate()});